<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>WhitespaceAroundCheckTest.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">checkstyle$java_in_checkstyle.exec</a> &gt; <a href="index.source.html" class="el_package">com.puppycrawl.tools.checkstyle.checks.whitespace</a> &gt; <span class="el_source">WhitespaceAroundCheckTest.java</span></div><h1>WhitespaceAroundCheckTest.java</h1><pre class="source lang-java linenums">////////////////////////////////////////////////////////////////////////////////
// checkstyle: Checks Java source code for adherence to a set of rules.
// Copyright (C) 2001-2019 the original author or authors.
//
// This library is free software; you can redistribute it and/or
// modify it under the terms of the GNU Lesser General Public
// License as published by the Free Software Foundation; either
// version 2.1 of the License, or (at your option) any later version.
//
// This library is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
// Lesser General Public License for more details.
//
// You should have received a copy of the GNU Lesser General Public
// License along with this library; if not, write to the Free Software
// Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
////////////////////////////////////////////////////////////////////////////////

package com.puppycrawl.tools.checkstyle.checks.whitespace;

import static com.puppycrawl.tools.checkstyle.checks.whitespace.WhitespaceAroundCheck.MSG_WS_NOT_FOLLOWED;
import static com.puppycrawl.tools.checkstyle.checks.whitespace.WhitespaceAroundCheck.MSG_WS_NOT_PRECEDED;
import static org.junit.Assert.assertArrayEquals;

import org.junit.Test;

import com.puppycrawl.tools.checkstyle.AbstractModuleTestSupport;
import com.puppycrawl.tools.checkstyle.DefaultConfiguration;
import com.puppycrawl.tools.checkstyle.api.TokenTypes;
import com.puppycrawl.tools.checkstyle.utils.CommonUtil;

<span class="fc" id="L33">public class WhitespaceAroundCheckTest</span>
    extends AbstractModuleTestSupport {

    @Override
    protected String getPackageLocation() {
<span class="fc" id="L38">        return &quot;com/puppycrawl/tools/checkstyle/checks/whitespace/whitespacearound&quot;;</span>
    }

    @Test
    public void testGetRequiredTokens() {
<span class="fc" id="L43">        final WhitespaceAroundCheck checkObj = new WhitespaceAroundCheck();</span>
<span class="fc" id="L44">        assertArrayEquals(</span>
            &quot;WhitespaceAroundCheck#getRequiredTokens should return empty array by default&quot;,
<span class="fc" id="L46">            CommonUtil.EMPTY_INT_ARRAY, checkObj.getRequiredTokens());</span>
<span class="fc" id="L47">    }</span>

    @Test
    public void testKeywordsAndOperators()
            throws Exception {
<span class="fc" id="L52">        final DefaultConfiguration checkConfig = createModuleConfig(WhitespaceAroundCheck.class);</span>
<span class="fc" id="L53">        final String[] expected = {</span>
<span class="fc" id="L54">            &quot;16:22: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;=&quot;),</span>
<span class="fc" id="L55">            &quot;16:22: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;=&quot;),</span>
<span class="fc" id="L56">            &quot;18:23: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;=&quot;),</span>
<span class="fc" id="L57">            &quot;26:14: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;=&quot;),</span>
<span class="fc" id="L58">            &quot;27:10: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;=&quot;),</span>
<span class="fc" id="L59">            &quot;27:10: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;=&quot;),</span>
<span class="fc" id="L60">            &quot;28:10: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;+=&quot;),</span>
<span class="fc" id="L61">            &quot;28:10: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;+=&quot;),</span>
<span class="fc" id="L62">            &quot;29:11: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;-=&quot;),</span>
<span class="fc" id="L63">            &quot;37:9: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;synchronized&quot;),</span>
<span class="fc" id="L64">            &quot;39:9: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;try&quot;),</span>
<span class="fc" id="L65">            &quot;39:12: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;{&quot;),</span>
<span class="fc" id="L66">            &quot;41:9: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;catch&quot;),</span>
<span class="fc" id="L67">            &quot;41:34: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;{&quot;),</span>
<span class="fc" id="L68">            &quot;58:9: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;if&quot;),</span>
<span class="fc" id="L69">            &quot;76:13: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;return&quot;),</span>
<span class="fc" id="L70">            &quot;97:29: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;?&quot;),</span>
<span class="fc" id="L71">            &quot;97:29: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;?&quot;),</span>
<span class="fc" id="L72">            &quot;97:34: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;:&quot;),</span>
<span class="fc" id="L73">            &quot;97:34: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;:&quot;),</span>
<span class="fc" id="L74">            &quot;98:15: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;==&quot;),</span>
<span class="fc" id="L75">            &quot;98:15: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;==&quot;),</span>
<span class="fc" id="L76">            &quot;104:19: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;*&quot;),</span>
<span class="fc" id="L77">            &quot;104:21: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;*&quot;),</span>
<span class="fc" id="L78">            &quot;119:18: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;%&quot;),</span>
<span class="fc" id="L79">            &quot;120:19: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;%&quot;),</span>
<span class="fc" id="L80">            &quot;121:18: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;%&quot;),</span>
<span class="fc" id="L81">            &quot;121:18: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;%&quot;),</span>
<span class="fc" id="L82">            &quot;123:18: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;/&quot;),</span>
<span class="fc" id="L83">            &quot;124:19: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;/&quot;),</span>
<span class="fc" id="L84">            &quot;125:18: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;/&quot;),</span>
<span class="fc" id="L85">            &quot;125:18: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;/&quot;),</span>
<span class="fc" id="L86">            &quot;153:9: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;assert&quot;),</span>
<span class="fc" id="L87">            &quot;156:20: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;:&quot;),</span>
<span class="fc" id="L88">            &quot;156:20: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;:&quot;),</span>
<span class="fc" id="L89">            &quot;262:13: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;}&quot;),</span>
<span class="fc" id="L90">            &quot;291:24: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;+&quot;),</span>
<span class="fc" id="L91">            &quot;291:24: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;+&quot;),</span>
<span class="fc" id="L92">            &quot;291:28: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;+&quot;),</span>
<span class="fc" id="L93">            &quot;291:28: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;+&quot;),</span>
        };
<span class="fc" id="L95">        verify(checkConfig, getPath(&quot;InputWhitespaceAroundKeywordsAndOperators.java&quot;), expected);</span>
<span class="fc" id="L96">    }</span>

    @Test
    public void testSimpleInput()
            throws Exception {
<span class="fc" id="L101">        final DefaultConfiguration checkConfig = createModuleConfig(WhitespaceAroundCheck.class);</span>
<span class="fc" id="L102">        final String[] expected = {</span>
<span class="fc" id="L103">            &quot;153:26: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;=&quot;),</span>
<span class="fc" id="L104">            &quot;154:26: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;=&quot;),</span>
<span class="fc" id="L105">            &quot;155:26: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;=&quot;),</span>
<span class="fc" id="L106">            &quot;156:26: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;=&quot;),</span>
<span class="fc" id="L107">            &quot;157:26: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;=&quot;),</span>
<span class="fc" id="L108">            &quot;158:26: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;=&quot;),</span>
        };
<span class="fc" id="L110">        verify(checkConfig, getPath(&quot;InputWhitespaceAroundSimple.java&quot;), expected);</span>
<span class="fc" id="L111">    }</span>

    @Test
    public void testStartOfTheLine()
            throws Exception {
<span class="fc" id="L116">        final DefaultConfiguration checkConfig = createModuleConfig(WhitespaceAroundCheck.class);</span>
<span class="fc" id="L117">        final String[] expected = {</span>
<span class="fc" id="L118">            &quot;5:2: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;{&quot;),</span>
        };
<span class="fc" id="L120">        verify(checkConfig, getPath(&quot;InputWhitespaceAroundStartOfTheLine.java&quot;), expected);</span>
<span class="fc" id="L121">    }</span>

    @Test
    public void testBraces()
            throws Exception {
<span class="fc" id="L126">        final DefaultConfiguration checkConfig = createModuleConfig(WhitespaceAroundCheck.class);</span>
<span class="fc" id="L127">        final String[] expected = {</span>
<span class="fc" id="L128">            &quot;37:9: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;while&quot;),</span>
<span class="fc" id="L129">            &quot;54:9: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;for&quot;),</span>
            // + &quot;:58:23: ';' is not followed by whitespace.&quot;,
            //  + &quot;:58:29: ';' is not followed by whitespace.&quot;,
<span class="fc" id="L132">            &quot;111:42: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;{&quot;),</span>
<span class="fc" id="L133">            &quot;111:43: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;}&quot;),</span>
<span class="fc" id="L134">            &quot;114:39: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;{&quot;),</span>
<span class="fc" id="L135">            &quot;114:40: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;}&quot;),</span>
<span class="fc" id="L136">            &quot;118:9: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;if&quot;),</span>
<span class="fc" id="L137">            &quot;118:17: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;{&quot;),</span>
<span class="fc" id="L138">            &quot;118:17: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;{&quot;),</span>
<span class="fc" id="L139">            &quot;118:18: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;}&quot;),</span>
        };
<span class="fc" id="L141">        verify(checkConfig, getPath(&quot;InputWhitespaceAroundBraces.java&quot;), expected);</span>
<span class="fc" id="L142">    }</span>

    @Test
    public void testBracesInMethodsAndConstructors()
            throws Exception {
<span class="fc" id="L147">        final DefaultConfiguration checkConfig = createModuleConfig(WhitespaceAroundCheck.class);</span>
<span class="fc" id="L148">        checkConfig.addAttribute(&quot;allowEmptyMethods&quot;, &quot;true&quot;);</span>
<span class="fc" id="L149">        checkConfig.addAttribute(&quot;allowEmptyConstructors&quot;, &quot;true&quot;);</span>
<span class="fc" id="L150">        final String[] expected = {</span>
<span class="fc" id="L151">            &quot;37:9: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;while&quot;),</span>
<span class="fc" id="L152">            &quot;54:9: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;for&quot;),</span>
<span class="fc" id="L153">            &quot;118:9: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;if&quot;),</span>
<span class="fc" id="L154">            &quot;118:17: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;{&quot;),</span>
<span class="fc" id="L155">            &quot;118:17: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;{&quot;),</span>
<span class="fc" id="L156">            &quot;118:18: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;}&quot;),</span>
        };
<span class="fc" id="L158">        verify(checkConfig, getPath(&quot;InputWhitespaceAroundBraces.java&quot;), expected);</span>
<span class="fc" id="L159">    }</span>

    @Test
    public void testArrayInitialization()
            throws Exception {
<span class="fc" id="L164">        final DefaultConfiguration checkConfig = createModuleConfig(WhitespaceAroundCheck.class);</span>
<span class="fc" id="L165">        checkConfig.addAttribute(&quot;tokens&quot;, &quot;ARRAY_INIT&quot;);</span>
<span class="fc" id="L166">        final String[] expected = {</span>
<span class="fc" id="L167">            &quot;7:39: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;{&quot;),</span>
<span class="fc" id="L168">            &quot;11:37: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;{&quot;),</span>
<span class="fc" id="L169">            &quot;13:56: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;{&quot;),</span>
<span class="fc" id="L170">            &quot;21:42: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;{&quot;),</span>
<span class="fc" id="L171">            &quot;21:59: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;{&quot;),</span>
<span class="fc" id="L172">            &quot;23:40: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;{&quot;),</span>
<span class="fc" id="L173">            &quot;23:41: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;{&quot;),</span>
<span class="fc" id="L174">            &quot;27:46: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;{&quot;),</span>
        };
<span class="fc" id="L176">        verify(checkConfig, getPath(&quot;InputWhitespaceAroundArrayInitialization.java&quot;), expected);</span>
<span class="fc" id="L177">    }</span>

    @Test
    public void testGenericsTokensAreFlagged()
            throws Exception {
<span class="fc" id="L182">        final DefaultConfiguration checkConfig = createModuleConfig(WhitespaceAroundCheck.class);</span>
<span class="fc" id="L183">        final String[] expected = {</span>
<span class="fc" id="L184">            &quot;7:27: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;&amp;&quot;),</span>
<span class="fc" id="L185">            &quot;7:27: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;&amp;&quot;),</span>
        };
<span class="fc" id="L187">        verify(checkConfig, getPath(&quot;InputWhitespaceAroundGenerics.java&quot;), expected);</span>
<span class="fc" id="L188">    }</span>

    @Test
    public void test1322879And1649038() throws Exception {
<span class="fc" id="L192">        final DefaultConfiguration checkConfig = createModuleConfig(WhitespaceAroundCheck.class);</span>
<span class="fc" id="L193">        final String[] expected = CommonUtil.EMPTY_STRING_ARRAY;</span>
<span class="fc" id="L194">        verify(checkConfig, getPath(&quot;InputWhitespaceAround.java&quot;),</span>
               expected);
<span class="fc" id="L196">    }</span>

    @Test
    public void testAllowDoubleBraceInitialization() throws Exception {
<span class="fc" id="L200">        final DefaultConfiguration checkConfig = createModuleConfig(WhitespaceAroundCheck.class);</span>
<span class="fc" id="L201">        final String[] expected = {</span>
<span class="fc" id="L202">            &quot;11:73: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;}&quot;),</span>
<span class="fc" id="L203">            &quot;12:27: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;{&quot;),</span>
<span class="fc" id="L204">            &quot;14:27: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;{&quot;),</span>
<span class="fc" id="L205">            &quot;14:88: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;}&quot;),</span>
<span class="fc" id="L206">            &quot;17:9: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;}&quot;),</span>
<span class="fc" id="L207">            &quot;17:24: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;}&quot;),</span>
        };
<span class="fc" id="L209">        verify(checkConfig, getPath(&quot;InputWhitespaceAroundDoubleBraceInitialization.java&quot;),</span>
                expected);
<span class="fc" id="L211">    }</span>

    @Test
    public void testIgnoreEnhancedForColon() throws Exception {
<span class="fc" id="L215">        final DefaultConfiguration checkConfig = createModuleConfig(WhitespaceAroundCheck.class);</span>
<span class="fc" id="L216">        checkConfig.addAttribute(&quot;ignoreEnhancedForColon&quot;, &quot;false&quot;);</span>
<span class="fc" id="L217">        final String[] expected = {</span>
<span class="fc" id="L218">            &quot;19:20: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;:&quot;),</span>
        };
<span class="fc" id="L220">        verify(checkConfig, getPath(&quot;InputWhitespaceAround.java&quot;),</span>
               expected);
<span class="fc" id="L222">    }</span>

    @Test
    public void testEmptyTypes() throws Exception {
<span class="fc" id="L226">        final DefaultConfiguration checkConfig = createModuleConfig(WhitespaceAroundCheck.class);</span>
<span class="fc" id="L227">        checkConfig.addAttribute(&quot;allowEmptyTypes&quot;, &quot;true&quot;);</span>
<span class="fc" id="L228">        final String[] expected = {</span>
<span class="fc" id="L229">            &quot;29:94: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;{&quot;),</span>
<span class="fc" id="L230">            &quot;29:95: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;}&quot;),</span>
<span class="fc" id="L231">            &quot;30:32: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;{&quot;),</span>
<span class="fc" id="L232">            &quot;30:33: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;}&quot;),</span>
<span class="fc" id="L233">            &quot;31:20: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;{&quot;),</span>
<span class="fc" id="L234">            &quot;31:21: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;}&quot;),</span>
        };
<span class="fc" id="L236">        verify(checkConfig, getPath(&quot;InputWhitespaceAroundEmptyTypesAndCycles.java&quot;),</span>
               expected);
<span class="fc" id="L238">    }</span>

    @Test
    public void testEmptyLoops() throws Exception {
<span class="fc" id="L242">        final DefaultConfiguration checkConfig = createModuleConfig(WhitespaceAroundCheck.class);</span>
<span class="fc" id="L243">        checkConfig.addAttribute(&quot;allowEmptyLoops&quot;, &quot;true&quot;);</span>
<span class="fc" id="L244">        final String[] expected = {</span>
<span class="fc" id="L245">            &quot;40:64: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;{&quot;),</span>
<span class="fc" id="L246">            &quot;40:65: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;}&quot;),</span>
<span class="fc" id="L247">            &quot;42:16: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;{&quot;),</span>
<span class="fc" id="L248">            &quot;42:17: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;}&quot;),</span>
<span class="fc" id="L249">            &quot;44:19: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;{&quot;),</span>
<span class="fc" id="L250">            &quot;44:20: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;}&quot;),</span>
<span class="fc" id="L251">            &quot;50:43: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;{&quot;),</span>
<span class="fc" id="L252">            &quot;50:44: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;}&quot;),</span>
<span class="fc" id="L253">            &quot;60:17: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;{&quot;),</span>
<span class="fc" id="L254">            &quot;60:18: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;}&quot;),</span>
        };
<span class="fc" id="L256">        verify(checkConfig, getPath(&quot;InputWhitespaceAroundEmptyTypesAndCycles.java&quot;),</span>
               expected);
<span class="fc" id="L258">    }</span>

    @Test
    public void testSwitchWhitespaceAround() throws Exception {
<span class="fc" id="L262">        final DefaultConfiguration checkConfig = createModuleConfig(WhitespaceAroundCheck.class);</span>
<span class="fc" id="L263">        final String[] expected = {</span>
<span class="fc" id="L264">            &quot;6:9: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;switch&quot;),</span>
        };
<span class="fc" id="L266">        verify(checkConfig, getPath(&quot;InputWhitespaceAroundSwitch.java&quot;), expected);</span>
<span class="fc" id="L267">    }</span>

    @Test
    public void testDoWhileWhitespaceAround() throws Exception {
<span class="fc" id="L271">        final DefaultConfiguration checkConfig = createModuleConfig(WhitespaceAroundCheck.class);</span>
<span class="fc" id="L272">        final String[] expected = {</span>
<span class="fc" id="L273">            &quot;9:11: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;while&quot;),</span>
        };
<span class="fc" id="L275">        verify(checkConfig, getPath(&quot;InputWhitespaceAroundDoWhile.java&quot;), expected);</span>
<span class="fc" id="L276">    }</span>

    @Test
    public void allowEmptyMethods() throws Exception {
<span class="fc" id="L280">        final DefaultConfiguration checkConfig = createModuleConfig(WhitespaceAroundCheck.class);</span>
<span class="fc" id="L281">        checkConfig.addAttribute(&quot;allowEmptyMethods&quot;, &quot;true&quot;);</span>
<span class="fc" id="L282">        final String[] expected = CommonUtil.EMPTY_STRING_ARRAY;</span>
<span class="fc" id="L283">        verify(checkConfig, getPath(&quot;InputWhitespaceAround.java&quot;), expected);</span>
<span class="fc" id="L284">    }</span>

    @Test
    public void testGetAcceptableTokens() {
<span class="fc" id="L288">        final WhitespaceAroundCheck whitespaceAroundCheckObj = new WhitespaceAroundCheck();</span>
<span class="fc" id="L289">        final int[] actual = whitespaceAroundCheckObj.getAcceptableTokens();</span>
<span class="fc" id="L290">        final int[] expected = {</span>
            TokenTypes.ASSIGN,
            TokenTypes.ARRAY_INIT,
            TokenTypes.BAND,
            TokenTypes.BAND_ASSIGN,
            TokenTypes.BOR,
            TokenTypes.BOR_ASSIGN,
            TokenTypes.BSR,
            TokenTypes.BSR_ASSIGN,
            TokenTypes.BXOR,
            TokenTypes.BXOR_ASSIGN,
            TokenTypes.COLON,
            TokenTypes.DIV,
            TokenTypes.DIV_ASSIGN,
            TokenTypes.DO_WHILE,
            TokenTypes.EQUAL,
            TokenTypes.GE,
            TokenTypes.GT,
            TokenTypes.LAMBDA,
            TokenTypes.LAND,
            TokenTypes.LCURLY,
            TokenTypes.LE,
            TokenTypes.LITERAL_CATCH,
            TokenTypes.LITERAL_DO,
            TokenTypes.LITERAL_ELSE,
            TokenTypes.LITERAL_FINALLY,
            TokenTypes.LITERAL_FOR,
            TokenTypes.LITERAL_IF,
            TokenTypes.LITERAL_RETURN,
            TokenTypes.LITERAL_SWITCH,
            TokenTypes.LITERAL_SYNCHRONIZED,
            TokenTypes.LITERAL_TRY,
            TokenTypes.LITERAL_WHILE,
            TokenTypes.LOR,
            TokenTypes.LT,
            TokenTypes.MINUS,
            TokenTypes.MINUS_ASSIGN,
            TokenTypes.MOD,
            TokenTypes.MOD_ASSIGN,
            TokenTypes.NOT_EQUAL,
            TokenTypes.PLUS,
            TokenTypes.PLUS_ASSIGN,
            TokenTypes.QUESTION,
            TokenTypes.RCURLY,
            TokenTypes.SL,
            TokenTypes.SLIST,
            TokenTypes.SL_ASSIGN,
            TokenTypes.SR,
            TokenTypes.SR_ASSIGN,
            TokenTypes.STAR,
            TokenTypes.STAR_ASSIGN,
            TokenTypes.LITERAL_ASSERT,
            TokenTypes.TYPE_EXTENSION_AND,
            TokenTypes.WILDCARD_TYPE,
            TokenTypes.GENERIC_START,
            TokenTypes.GENERIC_END,
            TokenTypes.ELLIPSIS,
        };
<span class="fc" id="L348">        assertArrayEquals(&quot;Default acceptable tokens are invalid&quot;, expected, actual);</span>
<span class="fc" id="L349">    }</span>

    @Test
    public void testAllowEmptyTypesIsSetToFalseAndNonEmptyClasses() throws Exception {
<span class="fc" id="L353">        final DefaultConfiguration checkConfig = createModuleConfig(WhitespaceAroundCheck.class);</span>
<span class="fc" id="L354">        checkConfig.addAttribute(&quot;allowEmptyTypes&quot;, &quot;false&quot;);</span>
<span class="fc" id="L355">        final String[] expected = {</span>
<span class="fc" id="L356">            &quot;6:68: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;{&quot;),</span>
<span class="fc" id="L357">            &quot;10:20: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;{&quot;),</span>
<span class="fc" id="L358">            &quot;14:32: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;{&quot;),</span>
<span class="fc" id="L359">            &quot;18:18: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;{&quot;),</span>
<span class="fc" id="L360">            &quot;20:24: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;{&quot;),</span>
<span class="fc" id="L361">            &quot;20:24: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;{&quot;),</span>
<span class="fc" id="L362">            &quot;20:31: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;}&quot;),</span>
<span class="fc" id="L363">            &quot;22:30: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;}&quot;),</span>
<span class="fc" id="L364">            &quot;24:17: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;{&quot;),</span>
<span class="fc" id="L365">            &quot;24:18: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;}&quot;),</span>
<span class="fc" id="L366">            &quot;26:68: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;{&quot;),</span>
<span class="fc" id="L367">            &quot;26:69: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;}&quot;),</span>
<span class="fc" id="L368">            &quot;28:24: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;{&quot;),</span>
<span class="fc" id="L369">            &quot;31:12: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;{&quot;),</span>
<span class="fc" id="L370">            &quot;31:13: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;}&quot;),</span>
        };
<span class="fc" id="L372">        verify(checkConfig, getPath(&quot;InputWhitespaceAroundAllowEmptyTypesAndNonEmptyClasses.java&quot;),</span>
            expected);
<span class="fc" id="L374">    }</span>

    @Test
    public void testAllowEmptyTypesIsSetToTrueAndNonEmptyClasses() throws Exception {
<span class="fc" id="L378">        final DefaultConfiguration checkConfig = createModuleConfig(WhitespaceAroundCheck.class);</span>
<span class="fc" id="L379">        checkConfig.addAttribute(&quot;allowEmptyTypes&quot;, &quot;true&quot;);</span>
<span class="fc" id="L380">        final String[] expected = {</span>
<span class="fc" id="L381">            &quot;6:68: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;{&quot;),</span>
<span class="fc" id="L382">            &quot;10:20: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;{&quot;),</span>
<span class="fc" id="L383">            &quot;14:32: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;{&quot;),</span>
<span class="fc" id="L384">            &quot;18:18: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;{&quot;),</span>
<span class="fc" id="L385">            &quot;20:24: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;{&quot;),</span>
<span class="fc" id="L386">            &quot;20:24: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;{&quot;),</span>
<span class="fc" id="L387">            &quot;20:31: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;}&quot;),</span>
<span class="fc" id="L388">            &quot;22:30: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;}&quot;),</span>
<span class="fc" id="L389">            &quot;28:24: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;{&quot;),</span>
<span class="fc" id="L390">            &quot;31:12: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;{&quot;),</span>
<span class="fc" id="L391">            &quot;31:13: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;}&quot;),</span>
            };
<span class="fc" id="L393">        verify(checkConfig, getPath(&quot;InputWhitespaceAroundAllowEmptyTypesAndNonEmptyClasses.java&quot;),</span>
            expected);
<span class="fc" id="L395">    }</span>

    @Test
    public void testNotAllowEmptyLambdaExpressionsByDefault() throws Exception {
<span class="fc" id="L399">        final DefaultConfiguration checkConfig = createModuleConfig(WhitespaceAroundCheck.class);</span>
<span class="fc" id="L400">        final String[] expected = {</span>
<span class="fc" id="L401">            &quot;7:27: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;{&quot;),</span>
<span class="fc" id="L402">            &quot;7:28: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;}&quot;),</span>
<span class="fc" id="L403">            &quot;12:28: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;{&quot;),</span>
<span class="fc" id="L404">            &quot;12:30: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;}&quot;),</span>
<span class="fc" id="L405">            &quot;13:28: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;{&quot;),</span>
<span class="fc" id="L406">            &quot;13:42: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;}&quot;),</span>
        };
<span class="fc" id="L408">        verify(checkConfig, getPath(&quot;InputWhitespaceAroundAllowEmptyLambdaExpressions.java&quot;),</span>
            expected);
<span class="fc" id="L410">    }</span>

    @Test
    public void testAllowEmptyLambdaExpressionsWithAllowEmptyLambdaParameter() throws Exception {
<span class="fc" id="L414">        final DefaultConfiguration checkConfig = createModuleConfig(WhitespaceAroundCheck.class);</span>
<span class="fc" id="L415">        checkConfig.addAttribute(&quot;allowEmptyLambdas&quot;, &quot;true&quot;);</span>
<span class="fc" id="L416">        final String[] expected = {</span>
<span class="fc" id="L417">            &quot;12:28: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;{&quot;),</span>
<span class="fc" id="L418">            &quot;12:30: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;}&quot;),</span>
<span class="fc" id="L419">            &quot;13:28: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;{&quot;),</span>
<span class="fc" id="L420">            &quot;13:42: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;}&quot;),</span>
        };
<span class="fc" id="L422">        verify(checkConfig, getPath(&quot;InputWhitespaceAroundAllowEmptyLambdaExpressions.java&quot;),</span>
                expected);
<span class="fc" id="L424">    }</span>

    @Test
    public void testWhitespaceAroundLambda() throws Exception {
<span class="fc" id="L428">        final DefaultConfiguration checkConfig = createModuleConfig(WhitespaceAroundCheck.class);</span>
<span class="fc" id="L429">        final String[] expected = {</span>
<span class="fc" id="L430">            &quot;8:48: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;-&gt;&quot;),</span>
<span class="fc" id="L431">            &quot;8:48: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;-&gt;&quot;),</span>
        };
<span class="fc" id="L433">        verify(checkConfig, getPath(&quot;InputWhitespaceAroundLambda.java&quot;), expected);</span>
<span class="fc" id="L434">    }</span>

    @Test
    public void testWhitespaceAroundEmptyCatchBlock() throws Exception {
<span class="fc" id="L438">        final DefaultConfiguration checkConfig = createModuleConfig(WhitespaceAroundCheck.class);</span>
<span class="fc" id="L439">        checkConfig.addAttribute(&quot;allowEmptyCatches&quot;, &quot;true&quot;);</span>
<span class="fc" id="L440">        final String[] expected = CommonUtil.EMPTY_STRING_ARRAY;</span>
<span class="fc" id="L441">        verify(checkConfig, getPath(&quot;InputWhitespaceAroundCatch.java&quot;),</span>
                expected);
<span class="fc" id="L443">    }</span>

    @Test
    public void testWhitespaceAroundVarargs() throws Exception {
<span class="fc" id="L447">        final DefaultConfiguration checkConfig = createModuleConfig(WhitespaceAroundCheck.class);</span>
<span class="fc" id="L448">        checkConfig.addAttribute(&quot;tokens&quot;, &quot;ELLIPSIS&quot;);</span>
<span class="fc" id="L449">        final String[] expected = {</span>
<span class="fc" id="L450">            &quot;9:36: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;...&quot;),</span>
<span class="fc" id="L451">            &quot;10:37: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;...&quot;),</span>
<span class="fc" id="L452">            &quot;11:36: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;...&quot;),</span>
<span class="fc" id="L453">            &quot;11:36: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;...&quot;),</span>
<span class="fc" id="L454">            &quot;13:28: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;...&quot;),</span>
<span class="fc" id="L455">            &quot;13:28: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;...&quot;),</span>
<span class="fc" id="L456">            &quot;14:39: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;...&quot;),</span>
<span class="fc" id="L457">            &quot;14:39: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;...&quot;),</span>
        };
<span class="fc" id="L459">        verify(checkConfig, getPath(&quot;InputWhitespaceAroundVarargs.java&quot;), expected);</span>
<span class="fc" id="L460">    }</span>

    @Test
    public void testWhitespaceAroundAllTokens() throws Exception {
<span class="fc" id="L464">        final DefaultConfiguration checkConfig = createModuleConfig(WhitespaceAroundCheck.class);</span>
<span class="fc" id="L465">        checkConfig.addAttribute(&quot;tokens&quot;, &quot;ASSIGN, ARRAY_INIT, BAND, BAND_ASSIGN, BOR, &quot;</span>
                + &quot;BOR_ASSIGN, BSR, BSR_ASSIGN, BXOR, BXOR_ASSIGN, COLON, DIV, DIV_ASSIGN, &quot;
                + &quot;DO_WHILE, EQUAL, GE, GT, LAMBDA, LAND, LCURLY, LE, LITERAL_CATCH, LITERAL_DO, &quot;
                + &quot;LITERAL_ELSE, LITERAL_FINALLY, LITERAL_FOR, LITERAL_IF, LITERAL_RETURN, &quot;
                + &quot;LITERAL_SWITCH, LITERAL_SYNCHRONIZED, LITERAL_TRY, LITERAL_WHILE, LOR, LT, &quot;
                + &quot;MINUS, MINUS_ASSIGN, MOD, MOD_ASSIGN, NOT_EQUAL, PLUS, PLUS_ASSIGN, QUESTION, &quot;
                + &quot;RCURLY, SL, SLIST, SL_ASSIGN, SR, SR_ASSIGN, STAR, STAR_ASSIGN, &quot;
                + &quot;LITERAL_ASSERT, TYPE_EXTENSION_AND, WILDCARD_TYPE, GENERIC_START, GENERIC_END, &quot;
                + &quot;ELLIPSIS&quot;);
<span class="fc" id="L474">        checkConfig.addAttribute(&quot;allowEmptyTypes&quot;, &quot;true&quot;);</span>
<span class="fc" id="L475">        checkConfig.addAttribute(&quot;allowEmptyCatches&quot;, &quot;true&quot;);</span>
<span class="fc" id="L476">        final String[] expected = {</span>
<span class="fc" id="L477">            &quot;6:29: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;&lt;&quot;),</span>
<span class="fc" id="L478">            &quot;6:29: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;&lt;&quot;),</span>
<span class="fc" id="L479">            &quot;6:35: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;&lt;&quot;),</span>
<span class="fc" id="L480">            &quot;6:35: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;&lt;&quot;),</span>
<span class="fc" id="L481">            &quot;6:36: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;?&quot;),</span>
<span class="fc" id="L482">            &quot;6:36: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;?&quot;),</span>
<span class="fc" id="L483">            &quot;6:37: &quot; + getCheckMessage(MSG_WS_NOT_FOLLOWED, &quot;&gt;&quot;),</span>
<span class="fc" id="L484">            &quot;6:37: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;&gt;&quot;),</span>
<span class="fc" id="L485">            &quot;6:38: &quot; + getCheckMessage(MSG_WS_NOT_PRECEDED, &quot;&gt;&quot;),</span>
        };
<span class="fc" id="L487">        verify(checkConfig, getPath(&quot;InputWhitespaceAroundAllTokens.java&quot;), expected);</span>
<span class="fc" id="L488">    }</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.1.201803210924</span></div></body></html>